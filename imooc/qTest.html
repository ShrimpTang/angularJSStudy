<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-controller="myControllertrl">
<span ng-click="q()">aaa</span>

<script src="bower_components/angular/angular.js"></script>
<script>
    var app = angular.module('myApp', []);
    app.controller('myControllertrl', function ($scope, $q) {
//        $scope.testq = function () {
//            var defer = $q.defer();
//            var promise = defer.promise;
//            promise.then(function (data) {
//               console.info('success'+data)
//            }, function (data) {
//                console.info('error'+data)
//            });
//            defer.resolve('qqq')
//        }
        $scope.testq = function () {
            var defer = $q.defer();
            defer.resolve('qqq')
            return defer.promise;
        }
        $scope.q = function () {
            $scope.testq().then(function (data) {
                console.info('success'+data);
            }, function (data) {
                console.info("error"+data);
            })
        }
    });
</script>
</body>
</html>
